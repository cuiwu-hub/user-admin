(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[256],{66331:function(re){re.exports={container:"container___2hWcK",lang:"lang___b8Zf0",content:"content___2qs6I",icon:"icon___3kazq"}},32384:function(){},74817:function(re,se,e){"use strict";e.r(se),e.d(se,{default:function(){return Ne}});var Re=e(18106),V=e(6416),Ie=e(34792),N=e(48086),y=e(39428),R=e(11849),k=e(3182),G=e(2824),ze=e(17462),ie=e(76772),oe=e(71390),ae=e(36571),M=e(28991),s=e(67294),le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},ue=le,ce=e(27029),te=function(a,o){return s.createElement(ce.Z,(0,M.Z)((0,M.Z)({},a),{},{ref:o,icon:ue}))};te.displayName="LockOutlined";var W=s.forwardRef(te),K=e(89366),I=e(22122),Be=e(84305),de=e(39559),A=e(81253),ge=e(54787),ve=e(5894),we=e(32384),fe=["logo","message","contentStyle","title","subTitle","actions","children"];function me(t){var a=t.logo,o=t.message,f=t.contentStyle,p=t.title,b=t.subTitle,S=t.actions,j=t.children,u=(0,A.Z)(t,fe),Q=(0,ge.YB)(),U=u.submitter===!1?!1:(0,M.Z)((0,M.Z)({searchConfig:{submitText:Q.getMessage("loginForm.submitText","\u767B\u5F55")},submitButtonProps:{size:"large",style:{width:"100%"}}},u.submitter),{},{render:function(P,D){var z,B,H=D.pop();if((u==null||(z=u.submitter)===null||z===void 0?void 0:z.render)===void 0)return H;if(typeof(u==null||(B=u.submitter)===null||B===void 0?void 0:B.render)=="function"){var C,w;return u==null||(C=u.submitter)===null||C===void 0||(w=C.render)===null||w===void 0?void 0:w.call(C,P,D)}return H}}),X=(0,s.useContext)(de.ZP.ConfigContext),q=X.getPrefixCls("pro-form-login"),h=function(P){return"".concat(q,"-").concat(P)},F=(0,s.useMemo)(function(){return a?typeof a=="string"?s.createElement("img",{src:a}):a:null},[a]);return s.createElement("div",{className:h("container")},s.createElement("div",{className:h("top")},p||F?s.createElement("div",{className:h("header")},F?s.createElement("span",{className:h("logo")},F):null,p?s.createElement("span",{className:h("title")},p):null):null,b?s.createElement("div",{className:h("desc")},b):null),s.createElement("div",{className:h("main"),style:(0,M.Z)({width:328},f)},s.createElement(ve.A,(0,I.Z)({isKeyPressSubmit:!0},u,{submitter:U}),o,j),S?s.createElement("div",{className:h("other")},S):null))}var Y=e(9147),pe=["fieldProps","proFieldProps"],he=["fieldProps","proFieldProps"],$="text",Pe=function(a){var o=a.fieldProps,f=a.proFieldProps,p=(0,A.Z)(a,pe);return s.createElement(Y.Z,(0,I.Z)({mode:"edit",valueType:$,fieldProps:o,filedConfig:{valueType:$},proFieldProps:f},p))},xe=function(a){var o=a.fieldProps,f=a.proFieldProps,p=(0,A.Z)(a,he);return s.createElement(Y.Z,(0,I.Z)({mode:"edit",valueType:"password",fieldProps:o,proFieldProps:f,filedConfig:{valueType:$}},p))},J=Pe;J.Password=xe,J.displayName="ProFormComponent";var T=J,Oe=e(63185),Ze=e(9676),ye=e(22270),je=e(64893),Fe=["options","fieldProps","proFieldProps","valueEnum"],Se=s.forwardRef(function(t,a){var o=t.options,f=t.fieldProps,p=t.proFieldProps,b=t.valueEnum,S=(0,A.Z)(t,Fe);return s.createElement(Y.Z,(0,I.Z)({ref:a,valueType:"checkbox",mode:"edit",valueEnum:(0,ye.h)(b,void 0),fieldProps:(0,M.Z)({options:o},f),proFieldProps:p},S))}),Le=s.forwardRef(function(t,a){var o=t.fieldProps,f=t.children;return s.createElement(Ze.Z,(0,I.Z)({ref:a},o),f)}),Me=(0,je.G)(Le,{valuePropName:"checked"}),ne=Me;ne.Group=Se;var Te=ne,v=e(25377),be=e(66331),x=e.n(be),r=e(85893),Ce=function(a){var o=a.content;return(0,r.jsx)(ie.Z,{style:{marginBottom:24},message:o,type:"error",showIcon:!0})},Ee=function(){var a=(0,s.useState)({}),o=(0,G.Z)(a,2),f=o[0],p=o[1],b=(0,s.useState)("account"),S=(0,G.Z)(b,2),j=S[0],u=S[1],Q=(0,s.useState)("\u767B\u9646"),U=(0,G.Z)(Q,2),X=U[0],q=U[1],h=(0,v.tT)("@@initialState"),F=h.initialState,_=h.setInitialState,P=(0,v.YB)(),D=function(){var Z=(0,k.Z)((0,y.Z)().mark(function l(){var d,m;return(0,y.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,F==null||(d=F.fetchUserInfo)===null||d===void 0?void 0:d.call(F);case 2:if(m=g.sent,!m){g.next=6;break}return g.next=6,_(function(L){return(0,R.Z)((0,R.Z)({},L),{},{currentUser:m})});case 6:case"end":return g.stop()}},l)}));return function(){return Z.apply(this,arguments)}}(),z=function(){var Z=(0,k.Z)((0,y.Z)().mark(function l(d){var m,c,g,L,E,O;return(0,y.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,ae.x4)((0,R.Z)((0,R.Z)({},d),{},{type:j}));case 3:if(m=n.sent,m.code!==0){n.next=18;break}return c=P.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),N.ZP.success(c),n.next=9,D();case 9:if(v.m8){n.next=11;break}return n.abrupt("return");case 11:return g=v.m8.location.query,L=g,E=L.redirect,console.log(E),v.m8.push(E||"/"),n.abrupt("return");case 18:throw p(m.data),new Error(m.description);case 20:n.next=26;break;case 22:n.prev=22,n.t0=n.catch(0),O=P.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),N.ZP.error(O);case 26:case"end":return n.stop()}},l,null,[[0,22]])}));return function(d){return Z.apply(this,arguments)}}(),B=function(){var Z=(0,k.Z)((0,y.Z)().mark(function l(d){var m,c,g,L,E,O,ee,n;return(0,y.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(m=d.userPasswordRegister,c=d.checkPasswordRegister,m===c){i.next=4;break}return N.ZP.error("\u5BC6\u7801\u4E0D\u4E00\u81F4\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165"),i.abrupt("return");case 4:return i.prev=4,i.next=7,(0,ae.z2)((0,R.Z)({},d));case 7:if(g=i.sent,g.code!==0){i.next=20;break}if(L=P.formatMessage({id:"pages.register.success",defaultMessage:"\u6CE8\u518C\u6210\u529F\uFF01\u8BF7\u767B\u5F55"}),N.ZP.success(L),v.m8){i.next=13;break}return i.abrupt("return");case 13:return E=v.m8.location.query,O=E,ee=O.redirect,v.m8.push(ee||"/"),u("account"),i.abrupt("return");case 20:throw new Error(g.description);case 21:i.next=27;break;case 23:i.prev=23,i.t0=i.catch(4),n=P.formatMessage({id:"pages.register.failure",defaultMessage:"\u6CE8\u518C\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5!"}),N.ZP.error(i.t0.message||n);case 27:case"end":return i.stop()}},l,null,[[4,23]])}));return function(d){return Z.apply(this,arguments)}}(),H=f.status,C=f.type,w=function(l){u(l),q(l==="account"?"\u767B\u9646":"\u6CE8\u518C")};return(0,r.jsxs)("div",{className:x().container,children:[(0,r.jsx)("div",{className:x().lang,"data-lang":!0,children:v.pD&&(0,r.jsx)(v.pD,{})}),(0,r.jsx)("div",{className:x().content,children:(0,r.jsxs)(me,{submitter:{searchConfig:{submitText:X}},logo:(0,r.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"\u7528\u6237\u4E2D\u5FC3",subTitle:"\u6211\u7684\u613F\u671B\u662F\u4E16\u754C\u548C\u5E73",initialValues:{autoLogin:!0},onFinish:function(){var Z=(0,k.Z)((0,y.Z)().mark(function l(d){return(0,y.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(j!=="account"){c.next=4;break}return c.next=3,z(d);case 3:return c.abrupt("return");case 4:if(j!=="register"){c.next=7;break}return c.next=7,B(d);case 7:case"end":return c.stop()}},l)}));return function(l){return Z.apply(this,arguments)}}(),children:[(0,r.jsxs)(V.Z,{activeKey:j,onChange:function(l){return w(l)},children:[(0,r.jsx)(V.Z.TabPane,{tab:P.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55"})},"account"),(0,r.jsx)(V.Z.TabPane,{tab:"\u6CE8\u518C\u7528\u6237"},"register")]}),H==="error"&&C==="account"&&(0,r.jsx)(Ce,{content:P.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF(cuiwu/123456789)"})}),j==="account"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{name:"userAccount",fieldProps:{size:"large",prefix:(0,r.jsx)(K.Z,{className:x().prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",rules:[{required:!0,message:"\u8D26\u53F7\u662F\u5FC5\u586B\u9879"}]}),(0,r.jsx)(T.Password,{name:"userPassword",fieldProps:{size:"large",prefix:(0,r.jsx)(W,{className:x().prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879"},{min:8,message:"\u5BC6\u7801\u957F\u5EA6\u4E0D\u80FD\u5C0F\u4E8E8"}]})]}),j==="register"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{name:"userAccountRegister",fieldProps:{size:"large",prefix:(0,r.jsx)(K.Z,{className:x().prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",rules:[{required:!0,message:"\u8D26\u53F7\u662F\u5FC5\u586B\u9879"}]}),(0,r.jsx)(T,{name:"planetCodeRegister",fieldProps:{size:"large",prefix:(0,r.jsx)(K.Z,{className:x().prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u661F\u7403\u7F16\u53F7",rules:[{required:!0,message:"\u661F\u7403\u7F16\u53F7\u662F\u5FC5\u586B\u9879"}]}),(0,r.jsx)(T.Password,{name:"userPasswordRegister",fieldProps:{size:"large",prefix:(0,r.jsx)(W,{className:x().prefixIcon})},placeholder:"\u8BF7\u8BBE\u7F6E\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879"},{min:8,message:"\u5BC6\u7801\u957F\u5EA6\u4E0D\u80FD\u5C0F\u4E8E8"}]}),(0,r.jsx)(T.Password,{name:"checkPasswordRegister",fieldProps:{size:"large",prefix:(0,r.jsx)(W,{className:x().prefixIcon})},placeholder:"\u8BF7\u786E\u8BA4\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879"},{min:8,message:"\u5BC6\u7801\u957F\u5EA6\u4E0D\u80FD\u5C0F\u4E8E8"}]})]}),(0,r.jsxs)("div",{style:{marginBottom:24},children:[(0,r.jsx)(Te,{noStyle:!0,name:"autoLogin",children:(0,r.jsx)(v._H,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),(0,r.jsx)("a",{style:{float:"right"},children:(0,r.jsx)(v._H,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})}),(0,r.jsx)(oe.Z,{})]})},Ne=Ee}}]);
